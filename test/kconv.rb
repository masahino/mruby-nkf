assert('Kconv euc') do
  euc_str = NKF.nkf('-e', "\
\xa5\xaa\xa5\xd6\xa5\xb8\xa5\xa7\xa5\xaf\xa5\xc8\xbb\xd8\xb8\xfe\
\xa5\xd7\xa5\xed\xa5\xb0\xa5\xe9\xa5\xdf\xa5\xf3\xa5\xb0\xb8\xc0\xb8\xec
\x52\x75\x62\x79")
  utf8_str = NKF.nkf('-w', "\
\xe3\x82\xaa\xe3\x83\x96\xe3\x82\xb8\xe3\x82\xa7\
\xe3\x82\xaf\xe3\x83\x88\xe6\x8c\x87\xe5\x90\x91\
\xe3\x83\x97\xe3\x83\xad\xe3\x82\xb0\xe3\x83\xa9\xe3\x83\x9f\
\xe3\x83\xb3\xe3\x82\xb0\xe8\xa8\x80\xe8\xaa\x9e
\x52\x75\x62\x79")
  sjis_str = NKF.nkf('-s', "\
\x83\x49\x83\x75\x83\x57\x83\x46\x83\x4e\x83\x67\x8e\x77\x8c\xfc\
\x83\x76\x83\x8d\x83\x4f\x83\x89\x83\x7e\x83\x93\x83\x4f\x8c\xbe\x8c\xea
\x52\x75\x62\x79")
  jis_str = NKF.nkf('-j', "\
\x1b\x24\x42\x25\x2a\x25\x56\x25\x38\x25\x27\x25\x2f\x25\x48\x3b\x58\x38\x7e\
\x25\x57\x25\x6d\x25\x30\x25\x69\x25\x5f\x25\x73\x25\x30\x38\x40\x38\x6c\x1b\x28\x42
\x52\x75\x62\x79")
  #euc_str.iseuc == true
  ::Kconv::EUC == Kconv.guess(euc_str)
  euc_str == euc_str.toeuc
  euc_str == sjis_str.toeuc
  euc_str == utf8_str.toeuc
  euc_str == jis_str.toeuc
  euc_str == euc_str.kconv(::NKF::EUC)
  euc_str == sjis_str.kconv(::NKF::EUC)
  euc_str == utf8_str.kconv(::NKF::EUC)
  euc_str == jis_str.kconv(::NKF::EUC)
end
assert('Kconv sjis') do
  euc_str = NKF.nkf('-e', "\xa5\xaa\xa5\xd6\xa5\xb8\xa5\xa7\xa5\xaf\xa5\xc8\xbb\xd8\xb8\xfe\xa5\xd7\xa5\xed\xa5\xb0\xa5\xe9\xa5\xdf\xa5\xf3\xa5\xb0\xb8\xc0\xb8\xec\x52\x75\x62\x79")
  utf8_str = NKF.nkf('-w', "\xe3\x82\xaa\xe3\x83\x96\xe3\x82\xb8\xe3\x82\xa7\xe3\x82\xaf\xe3\x83\x88\xe6\x8c\x87\xe5\x90\x91\xe3\x83\x97\xe3\x83\xad\xe3\x82\xb0\xe3\x83\xa9\xe3\x83\x9f\xe3\x83\xb3\xe3\x82\xb0\xe8\xa8\x80\xe8\xaa\x9e\x52\x75\x62\x79")
  sjis_str = NKF.nkf('-s', "\x83\x49\x83\x75\x83\x57\x83\x46\x83\x4e\x83\x67\x8e\x77\x8c\xfc\x83\x76\x83\x8d\x83\x4f\x83\x89\x83\x7e\x83\x93\x83\x4f\x8c\xbe\x8c\xea\x52\x75\x62\x79")
  jis_str = NKF.nkf('-j', "\x1b\x24\x42\x25\x2a\x25\x56\x25\x38\x25\x27\x25\x2f\x25\x48\x3b\x58\x38\x7e\x25\x57\x25\x6d\x25\x30\x25\x69\x25\x5f\x25\x73\x25\x30\x38\x40\x38\x6c\x1b\x28\x42\x52\x75\x62\x79")

#  sjis_str.issjis == true
  ::Kconv::SJIS == Kconv.guess(sjis_str)
  sjis_str == euc_str.tosjis
  sjis_str == sjis_str.tosjis
  sjis_str == utf8_str.tosjis
  sjis_str == jis_str.tosjis
  sjis_str == euc_str.kconv(::NKF::SJIS)
  sjis_str == sjis_str.kconv(::NKF::SJIS)
  sjis_str == utf8_str.kconv(::NKF::SJIS)
  sjis_str == jis_str.kconv(::NKF::SJIS)
end
assert('Kconv utf8') do
  euc_str = NKF.nkf('-e', "\xa5\xaa\xa5\xd6\xa5\xb8\xa5\xa7\xa5\xaf\xa5\xc8\xbb\xd8\xb8\xfe\xa5\xd7\xa5\xed\xa5\xb0\xa5\xe9\xa5\xdf\xa5\xf3\xa5\xb0\xb8\xc0\xb8\xec\x52\x75\x62\x79")
  utf8_str = NKF.nkf('-w8', "\xe3\x82\xaa\xe3\x83\x96\xe3\x82\xb8\xe3\x82\xa7\xe3\x82\xaf\xe3\x83\x88\xe6\x8c\x87\xe5\x90\x91\xe3\x83\x97\xe3\x83\xad\xe3\x82\xb0\xe3\x83\xa9\xe3\x83\x9f\xe3\x83\xb3\xe3\x82\xb0\xe8\xa8\x80\xe8\xaa\x9e\x52\x75\x62\x79")
  sjis_str = NKF.nkf('-s', "\x83\x49\x83\x75\x83\x57\x83\x46\x83\x4e\x83\x67\x8e\x77\x8c\xfc\x83\x76\x83\x8d\x83\x4f\x83\x89\x83\x7e\x83\x93\x83\x4f\x8c\xbe\x8c\xea\x52\x75\x62\x79")
  jis_str = NKF.nkf('-j', "\x1b\x24\x42\x25\x2a\x25\x56\x25\x38\x25\x27\x25\x2f\x25\x48\x3b\x58\x38\x7e\x25\x57\x25\x6d\x25\x30\x25\x69\x25\x5f\x25\x73\x25\x30\x38\x40\x38\x6c\x1b\x28\x42\x52\x75\x62\x79")

#  utf8_str.isutf8 == true
  ::Kconv::UTF8 == Kconv.guess(utf8_str)
  puts euc_str.toutf8
  puts utf8_str
  utf8_str == euc_str.toutf8
  utf8_str == sjis_str.toutf8
  utf8_str == utf8_str.toutf8
  utf8_str == jis_str.toutf8
  utf8_str == euc_str.kconv(::NKF::UTF8)
  utf8_str == sjis_str.kconv(::NKF::UTF8)
  utf8_str == utf8_str.kconv(::NKF::UTF8)
  utf8_str == jis_str.kconv(::NKF::UTF8)
end
assert('Kconv jis') do
  euc_str = NKF.nkf('-e', "\xa5\xaa\xa5\xd6\xa5\xb8\xa5\xa7\xa5\xaf\xa5\xc8\xbb\xd8\xb8\xfe\xa5\xd7\xa5\xed\xa5\xb0\xa5\xe9\xa5\xdf\xa5\xf3\xa5\xb0\xb8\xc0\xb8\xec\x52\x75\x62\x79")
  utf8_str = NKF.nkf('-w8', "\xe3\x82\xaa\xe3\x83\x96\xe3\x82\xb8\xe3\x82\xa7\xe3\x82\xaf\xe3\x83\x88\xe6\x8c\x87\xe5\x90\x91\xe3\x83\x97\xe3\x83\xad\xe3\x82\xb0\xe3\x83\xa9\xe3\x83\x9f\xe3\x83\xb3\xe3\x82\xb0\xe8\xa8\x80\xe8\xaa\x9e\x52\x75\x62\x79")
  sjis_str = NKF.nkf('-s', "\x83\x49\x83\x75\x83\x57\x83\x46\x83\x4e\x83\x67\x8e\x77\x8c\xfc\x83\x76\x83\x8d\x83\x4f\x83\x89\x83\x7e\x83\x93\x83\x4f\x8c\xbe\x8c\xea\x52\x75\x62\x79")
  jis_str = NKF.nkf('-j', "\x1b\x24\x42\x25\x2a\x25\x56\x25\x38\x25\x27\x25\x2f\x25\x48\x3b\x58\x38\x7e\x25\x57\x25\x6d\x25\x30\x25\x69\x25\x5f\x25\x73\x25\x30\x38\x40\x38\x6c\x1b\x28\x42\x52\x75\x62\x79")

  ::Kconv::JIS == Kconv.guess(jis_str)
  jis_str == euc_str.tojis
  jis_str == sjis_str.tojis
  jis_str == utf8_str.tojis
  jis_str == jis_str.tojis
  jis_str == euc_str.kconv(::NKF::JIS)
  jis_str == sjis_str.kconv(::NKF::JIS)
  jis_str == utf8_str.kconv(::NKF::JIS)
  jis_str == jis_str.kconv(::NKF::JIS)
end
assert('Kconv kconv') do
  utf8_str = NKF.nkf('-w8', "\xc2\xa1")
  euc_str = NKF.nkf('-e',  "\xc2\xa1")
  utf8_str == euc_str.kconv(::Kconv::UTF8)
  euc_str == utf8_str.kconv(::Kconv::EUC)
end
